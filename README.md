# WatermarkProject

## Возможности проекта
- Встраивание и извлечение водяных знаков в изображения с помощью различных алгоритмов (LSB, DCT, DWT, CNN-автокодировщик)
- Графический интерфейс для работы с изображениями и водяными знаками
- Поддержка текстовых и графических водяных знаков
- Интеграционные и юнит-тесты для проверки корректности работы

## Структура проекта
```
watermark_project/
├── main.py                # Точка входа (GUI)
├── gui/                   # Модули интерфейса
├── watermark/             # Алгоритмы и утилиты для водяных знаков
│   └── algorithms/        # Реализации алгоритмов
├── helpers/               # Вспомогательные материалы
├── tests/                 # Тесты
│   ├── integration_tests/ # Интеграционные тесты
│   └── unit_tests/        # Юнит-тесты
├── requirements.txt       # Зависимости
└── README.md              # Документация
```

## Гайд по запуску тестов

### Интеграционные тесты
```bash
python -m unittest discover -s tests/integration_tests
```

<<<<<<< HEAD
├── gui/                       # Графический интерфейс- **Поддержка форматов**: PNG, JPG, BMP для изображений, TXT для текста- **Консольный режим**: CLI для автоматизации и тестирования

│   ├── window.py             # Главное окно приложения

│   ├── layout.py             # Компоновка элементов интерфейса- **Интерактивные превью**: клик по превью для открытия текстовых файлов- **Поддержка форматов**: PNG, JPG, BMP для изображений, TXT для текста

│   └── events.py             # Обработчики событий и логика

├── watermark/                 # Основные алгоритмы стеганографии- **Сборка exe**: создание standalone исполняемого файла- **Интерактивные превью**: клик по превью для открытия текстовых файлов

│   ├── embedding.py          # Алгоритмы встраивания

│   ├── extraction.py         # Алгоритмы извлечения- **Модульная архитектура**: легкое расширение новыми алгоритмами- **Сборка exe**: создание standalone исполняемого файла

│   ├── utils.py              # Вспомогательные функции

│   └── algorithms/           # Модули алгоритмов

│       └── lsb/             # LSB алгоритмы

└── tests/                     # Тесты## Структура проекта## Структура проекта

    ├── unit_tests/           # Модульные тесты

    ├── integration_tests/    # Интеграционные тесты

    └── test_data/           # Тестовые данные

`````````




## Использование GUI



### Основной процесс работы

## Установка и запуск## Установка и запуск

1. **Загрузка исходного изображения**: нажмите "Загрузить исходное изображение"

2. **Выбор секрета**:

   - Для изображения: нажмите "Загрузить водяной знак" и выберите .png/.jpg/.bmp файл

   - Для текста: нажмите "Загрузить водяной знак" и выберите .txt файл### Требования### Требования

3. **Настройка параметров**: выберите алгоритм и глубину встраивания (1-8 бит)

4. **Встраивание**: нажмите "Встроить" для создания стегоизображения

5. **Сохранение результата**: нажмите "Сохранить результат"

6. **Извлечение**: нажмите "Извлечь" для восстановления секрета- Python 3.7+- Python 3.7+

7. **Сохранение секрета**: нажмите "Сохранить восстановленный секрет"

- PyQt5- PyQt5

### Интерактивные функции

- Pillow (PIL)- Pillow (PIL)

- **Клик по превью секретного текста**: открывает исходный .txt файл в системном редакторе

- **Клик по превью восстановленного текста**: создает и открывает временный .txt файл с результатом- NumPy- NumPy

- **Автоматическое масштабирование**: все превью сохраняют пропорции изображений

- **Полноэкранный режим**: интерфейс адаптируется к размеру окна- Matplotlib- Matplotlib

- **Сброс состояния**: кнопка "Сбросить" очищает все поля и превью



## Консольный режим

### Установка зависимостей### Установка зависимостей

CLI предоставляет следующие возможности:



1. **Базовый пример**: демонстрация встраивания и извлечения текста

2. **Интеграционные тесты**:```bash```bash

   - Встраивание текста в изображение

   - Встраивание изображения в изображениеpip install -r requirements.txtpip install -r requirements.txt

3. **Модульные тесты**:

   - Тестирование LSB алгоритмов для текста``````

   - Тестирование LSB алгоритмов для изображений



## Тестирование

Или вручную:Или вручную:

### Запуск тестов

```bash```bash

Запустить все модульные тесты:

```bashpip install PyQt5 Pillow numpy matplotlibpip install PyQt5 Pillow numpy matplotlib

python -m unittest discover -s tests.unit_tests

`````````



Запустить интеграционные тесты:

```bash

python tests/integration_tests/text_demo.py### Запуск приложения### Запуск приложения

python tests/integration_tests/image_demo.py

```



Интеграционные тесты используют реальные изображения из `tests/test_data/`, сохраняют результаты и показывают визуальные сравнения.**Графический интерфейс (по умолчанию):****Графический интерфейс (по умолчанию):**



## Алгоритмы```bash```bash



Проект использует метод **LSB (Least Significant Bit)** для стеганографии:python main.pypython main.py



- **LSB Text**: встраивание текстовых данных в младшие биты пикселей``````

- **LSB Image**: встраивание изображений с использованием LSB-подстановки



### Архитектура алгоритмов

**Консольный режим:****Консольный режим:**

Каждый алгоритм реализуется отдельным модулем в папке `watermark/algorithms/` и содержит две обязательные функции:

```bash```bash

- **embed(image: np.ndarray, secret: Any, params: dict) -> np.ndarray** — встраивание водяного знака

- **extract(image: np.ndarray, params: dict) -> Any** — извлечение водяного знакаpython main.py --clipython main.py --cli



Для универсального взаимодействия используются функции-обёртки в `embedding.py` и `extraction.py`.``````



### Расширение функциональности



Чтобы добавить новый алгоритм:## Использование GUI## Использование GUI



1. Создайте новый модуль с функциями `embed` и `extract`

2. Зарегистрируйте модуль в абстрагирующем слое

3. При необходимости добавьте параметры в GUI### Основной процесс работы1. **Загрузка исходного изображения**: нажмите "Загрузить исходное изображение"



Все параметры алгоритмов конфигурируются через словарь `params`.2. **Выбор секрета**:



## Сборка исполняемого файла1. **Загрузка исходного изображения**: нажмите "Загрузить исходное изображение"   - Для изображения: нажмите "Загрузить водяной знак" и выберите .png/.jpg/.bmp файл



Для создания standalone .exe файла:2. **Выбор секрета**:   - Для текста: нажмите "Загрузить водяной знак" и выберите .txt файл



```bash   - Для изображения: нажмите "Загрузить водяной знак" и выберите .png/.jpg/.bmp файл3. **Настройка параметров**: выберите алгоритм и глубину встраивания (1-8 бит)

# Установка PyInstaller

pip install pyinstaller   - Для текста: нажмите "Загрузить водяной знак" и выберите .txt файл4. **Встраивание**: нажмите "Встроить" для создания стегоизображения



# Сборка exe файла3. **Настройка параметров**: выберите алгоритм и глубину встраивания (1-8 бит)5. **Сохранение результата**: нажмите "Сохранить результат"

pyinstaller --onefile --windowed --name="WatermarkProject" main.py

```4. **Встраивание**: нажмите "Встроить" для создания стегоизображения6. **Извлечение**: нажмите "Извлечь" для восстановления секрета



Готовый файл будет в папке `dist/WatermarkProject.exe`5. **Сохранение результата**: нажмите "Сохранить результат"7. **Сохранение секрета**: нажмите "Сохранить восстановленный секрет"



### Параметры сборки6. **Извлечение**: нажмите "Извлечь" для восстановления секрета



- `--onefile` - один exe файл (все зависимости упакованы)7. **Сохранение секрета**: нажмите "Сохранить восстановленный секрет"### Интерактивные функции

- `--windowed` - без консоли (для GUI приложений)

- `--name` - имя итогового exe файла



**Характеристики:**### Интерактивные функции- **Клик по превью секретного текста**: открывает исходный .txt файл в системном редакторе

- Размер файла: ~150-200MB (включает PyQt5, NumPy, PIL)

- Время запуска: 5-10 секунд (первый запуск может быть медленнее)- **Клик по превью восстановленного текста**: создает и открывает временный .txt файл с результатом

- Требования: Windows 7+ (64-bit)

- **Клик по превью секретного текста**: открывает исходный .txt файл в системном редакторе- **Автоматическое масштабирование**: все превью сохраняют пропорции изображений

## Особенности

- **Клик по превью восстановленного текста**: создает и открывает временный .txt файл с результатом- **Полноэкранный режим**: интерфейс адаптируется к размеру окна

- **Сохранение пропорций**: все превью отображаются с исходным соотношением сторон

- **Поддержка больших файлов**: автоматическое масштабирование для предпросмотра- **Автоматическое масштабирование**: все превью сохраняют пропорции изображений- **Сброс состояния**: кнопка "Сбросить" очищает все поля и превью

- **Обработка ошибок**: информативные сообщения об ошибках

- **Кроссплатформенность**: работает на Windows, Linux, macOS- **Полноэкранный режим**: интерфейс адаптируется к размеру окна

- **Временные файлы**: автоматическое создание временных txt-файлов для просмотра извлеченного текста

- **Интерактивное взаимодействие**: клик по превью для быстрого доступа к файлам- **Сброс состояния**: кнопка "Сбросить" очищает все поля и превью## Консольный режим



## Лицензия



Проект разработан в образовательных целях.## Консольный режимCLI предоставляет следующие возможности:



## Автор



Разработано в рамках выпускной квалификационной работы.CLI предоставляет следующие возможности:1. **Базовый пример**: демонстрация встраивания и извлечения текста

2. **Интеграционные тесты**:

1. **Базовый пример**: демонстрация встраивания и извлечения текста   - Встраивание текста в изображение

2. **Интеграционные тесты**:   - Встраивание изображения в изображение

   - Встраивание текста в изображение3. **Модульные тесты**:

   - Встраивание изображения в изображение   - Тестирование LSB алгоритмов для текста

3. **Модульные тесты**:   - Тестирование LSB алгоритмов для изображений

   - Тестирование LSB алгоритмов для текста

   - Тестирование LSB алгоритмов для изображений### Запуск тестов



## ТестированиеЗапустить все тесты проекта:

```bash

### Запуск тестовpython -m unittest discover -s tests.unit_tests

```

Запустить все модульные тесты:

```bashИнтеграционные тесты:

python -m unittest discover -s tests.unit_tests```bash

```python tests/integration_tests/text_demo.py

python tests/integration_tests/image_demo.py

Запустить интеграционные тесты:```

```bash

python tests/integration_tests/text_demo.py## Сборка исполняемого файла

python tests/integration_tests/image_demo.py

```Для создания standalone .exe файла:



Интеграционные тесты используют реальные изображения из `tests/test_data/`, сохраняют результаты и показывают визуальные сравнения.```bash

# Установка PyInstaller

## Алгоритмыpip install pyinstaller



Проект использует метод **LSB (Least Significant Bit)** для стеганографии:# Сборка exe файла

pyinstaller --onefile --windowed --name="WatermarkProject" main.py

- **LSB Text**: встраивание текстовых данных в младшие биты пикселей```

- **LSB Image**: встраивание изображений с использованием LSB-подстановки

Готовый файл будет в папке `dist/WatermarkProject.exe`

### Архитектура алгоритмов

### Параметры сборки

Каждый алгоритм реализуется отдельным модулем в папке `watermark/algorithms/` и содержит две обязательные функции:

- `--onefile` - один exe файл (все зависимости упакованы)

- **embed(image: np.ndarray, secret: Any, params: dict) -> np.ndarray** — встраивание водяного знака- `--windowed` - без консоли (для GUI приложений)

- **extract(image: np.ndarray, params: dict) -> Any** — извлечение водяного знака- `--name` - имя итогового exe файла



Для универсального взаимодействия используются функции-обёртки в `embedding.py` и `extraction.py`.**Размер и производительность:**

- Размер файла: ~150-200MB (включает PyQt5, NumPy, PIL)

### Расширение функциональности- Время запуска: 5-10 секунд (первый запуск может быть медленнее)

- Требования: Windows 7+ (64-bit)

Чтобы добавить новый алгоритм:

## Алгоритмы

1. Создайте новый модуль с функциями `embed` и `extract`

2. Зарегистрируйте модуль в абстрагирующем слоеПроект использует метод **LSB (Least Significant Bit)** для стеганографии:

3. При необходимости добавьте параметры в GUI

- **LSB Text**: встраивание текстовых данных в младшие биты пикселей

Все параметры алгоритмов конфигурируются через словарь `params`.- **LSB Image**: встраивание изображений с использованием LSB-подстановки



## Сборка исполняемого файла## Взаимодействие и расширяемость ядра программы



Для создания standalone .exe файла:Программа поддерживает любые алгоритмы внедрения и извлечения цифровых водяных знаков в изображения благодаря модульной архитектуре.



```bash## Структура проекта

# Установка PyInstaller

pip install pyinstaller- watermark/                — основной python-пакет с алгоритмами и фасадом

- tests/                    — unit-тесты, интеграционные и функциональные тесты

# Сборка exe файла  - lsb_tests/                — unit-тесты для LSB

pyinstaller --onefile --windowed --name="WatermarkProject" main.py  - integration_tests/lsb/    — интеграционные тесты, визуальные примеры

```  - test_data/                — реальные изображения и строки для тестов

- examples/                 — примеры использования (если есть)

Готовый файл будет в папке `dist/WatermarkProject.exe`- main.py                   — стартовый скрипт-пример



### Параметры сборки## Запуск юнит-тестов



- `--onefile` - один exe файл (все зависимости упакованы)Запустить все тесты проекта:

- `--windowed` - без консоли (для GUI приложений)

- `--name` - имя итогового exe файлаpython -m unittest discover -s tests.unit_tests



**Характеристики:**

- Размер файла: ~150-200MB (включает PyQt5, NumPy, PIL)## Интеграционные/визуальные тесты

- Время запуска: 5-10 секунд (первый запуск может быть медленнее)

- Требования: Windows 7+ (64-bit)В папке `tests/integration_tests/lsb/` находятся скрипты, которые:

- используют реальные изображения из `tests/test_data/`

## Особенности- сохраняют результаты и показывают сравнения



- **Сохранение пропорций**: все превью отображаются с исходным соотношением сторонЗапускать как обычный python-скрипт:

- **Поддержка больших файлов**: автоматическое масштабирование для предпросмотраpython tests/integration_tests/lsb/lsb_image_demo.py

- **Обработка ошибок**: информативные сообщения об ошибках

- **Кроссплатформенность**: работает на Windows, Linux, macOS## Зависимости

- **Временные файлы**: автоматическое создание временных txt-файлов для просмотра извлеченного текста

- **Интерактивное взаимодействие**: клик по превью для быстрого доступа к файлам- numpy

=======
### Юнит-тесты
```bash
python -m unittest discover -s tests/unit_tests
```

## Список зависимостей
Основные зависимости перечислены в `requirements.txt`. Для установки используйте:
```bash
pip install -r requirements.txt
```

**Пример содержимого requirements.txt:**
- numpy
- opencv-python
>>>>>>> 9ffa6a9 (update readme)
- pillow
- PySimpleGUI
- scikit-image
- tensorflow (если используется CNN)

---

<<<<<<< HEAD


Проект разработан в образовательных целях.Установить:

pip install -r requirements.txt

## Автор

### Базовый интерфейс модулей алгоритмов

Разработано в рамках выпускной квалификационной работы.
Каждый алгоритм реализуется отдельным модулем в папке `watermark/algorithms/` и содержит две обязательные функции:

- **embed(image: np.ndarray, secret: Any, params: dict) -> np.ndarray**
Внедрение водяного знака (секрета) в изображение.
    - `image` — исходное изображение (numpy array)
    - `secret` — водяной знак (строка, данные, изображение, и т.д.)
    - `params` — словарь параметров
    - Возвращает изображение с внедрённым секретом
- **extract(image: np.ndarray, params: dict) -> Any**
Извлечение водяного знака из изображения.
    - `image` — изображение с водяным знаком
    - `params` — словарь параметров
    - Возвращает извлечённый секрет


#### Пример шаблона:

```python
def embed(image: np.ndarray, secret, params: dict) -> np.ndarray:
    # Реализация встраивания водяного знака
    ...

def extract(image: np.ndarray, params: dict):
    # Реализация извлечения водяного знака
    ...
```


### Абстрагирующий слой

Для универсального взаимодействия c различными алгоритмами в проекте используются функции-обёртки (`embedding.py`, `extraction.py`). В них через словарь осуществляется обращение к нужному методу:

```python
# Пример словаря алгоритмов
algorithms = {
    "название_метода": module
}

def embed(image, secret, params, method):
    return algorithms[method].embed(image, secret, params)

def extract(image, params, method):
    return algorithms[method].extract(image, params)
```


### Расширение функциональности

Чтобы добавить новый алгоритм:

1. Создайте новый модуль с функциями `embed` и `extract` согласно базовому интерфейсу.
2. Зарегистрируйте модуль в абстрагирующем слое (добавьте в словарь алгоритмов).
3. При необходимости добавьте параметры и описание в интерфейсе пользователя.

**Все параметры алгоритмов конфигурируются через словарь `params`.**

## Особенности

- **Сохранение пропорций**: все превью отображаются с исходным соотношением сторон
- **Поддержка больших файлов**: автоматическое масштабирование для предпросмотра
- **Обработка ошибок**: информативные сообщения об ошибках
- **Кроссплатформенность**: работает на Windows, Linux, macOS
- **Временные файлы**: автоматическое создание временных txt-файлов для просмотра извлеченного текста
- **Интерактивное взаимодействие**: клик по превью для быстрого доступа к файлам

## Лицензия

Проект разработан в образовательных целях. 

## Автор

Разработано в рамках выпускной квалификационной работы.
=======
Если возникнут вопросы по запуску или структуре, смотрите дополнительные гайды в папке `helpers` или обращайтесь к автору проекта.
>>>>>>> 9ffa6a9 (update readme)
